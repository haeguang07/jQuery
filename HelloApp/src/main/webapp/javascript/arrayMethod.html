<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>arrayMethod.html</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="memberList.js"></script>
  <script>
    $(function () {
      console.log(data);
      //forEach(item,idx,ary)
      let sum = 0;
      let count = 0;
      //data.forEach(function (item, idx, ary) {
        //console.log(item,idx,ary);
        // if(idx%2==1){
        //   console.log(item);
        // }
        // if(item.gender=="Male"){
        //   console.log(item);
        // }

        // if (item.salary > 3500 && item.gender == "Female") {
        //   sum += item.salary;
        //   count++;
        //   console.log(item);
        //   let tr = $('<tr/>').append($('<td />').text(item.id), $('<td />').text(item.first_name),
        //     $('<td />').text(item.salary), $('<td />').text(sum));
        //   $('#tlist').append(tr)
        // }
      //});

     

      
      //map()=> 배열의 갯수만큼 새로운 형태의 값을 반환 mapping
      // A-> A'
      // let result=data.map(function(item){
      //   let male = {};
      //   male.id=item.id;
      //   male.name=item.first_name+ '-'+ item.last_name;
      //   return male; 
      // });
      // console.log(result);

      //filter() 조건을 만족하는 새로운 배열
      // result= data.filter(function(item){
      //   return item.gender=="Male";
      // })
      // console.log(result);

      //  reduce() =? 반환되는 값이 배열,number,문자 ....
      let  result = data.reduce(function(a,b,c,d){
        if(b.gender=='Female'){
          a+= b.salary;
          $('#tlist').append($('<tr/>').append($('<td />').text(b.id), $('<td />').text(b.first_name), $('<td />').text(b.gender),
              $('<td />').text(b.salary), $('<td />').text(a),$('<td />').text((a/(c+1)).toFixed(2))));

            }
            return a;
      },0)
      
      let esayAry= ['one','two','three']
      result= data.reduce(function(acc,val,idx){
        if(val.gender=='Male'){
          let tr=$('<tr/>').append($('<td />').text(val.id), $('<td />').text(val.first_name), $('<td />').text(val.gender),
                $('<td />').text(val.salary));
                acc.append(tr);
        }

        return acc;
      },$('<table />').css('border','1px solid black'));
      
      $('#show2').append(result);

      //splice()
      data = [];
      data.push({id:data.length+1,name:'Apple'});
      data.push({id:data.length+1,name:'Banana'});
      data.unshift({id:data.length+1,name:'Chery'});
      data.splice(1,0,{id:data.length+1,name:'Melon'});//index 1위치에서 0개를 지우고 추가하기
      //data.pop(); 마지막 지우기
      //data.shift(); 처음 지우기
      data.splice(2,1);//index 2위치에서 1개를 지우기
      console.clear();
      console.log(data);


    })
  </script>
</head>

<body>
  <div id="show">
    <table border="1px">
      <thead>
        <tr>
          <th>id</th>
          <th>이름</th>
          <th>성별</th>
          <th>급여</th>
          <th>누적급여</th>
          <th>평균</th>
        </tr>
      </thead>
      <tbody id="tlist">

      </tbody>
    </table>
  </div>
  <br><br>
  <div id="show2"></div>
</body>

</html>